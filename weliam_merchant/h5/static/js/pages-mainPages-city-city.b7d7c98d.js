(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-mainPages-city-city"],{"0118":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=r(e("48c1")),a=r(e("5f2a"));function r(t){return t&&t.__esModule?t:{default:t}}var o={components:{uniSelect:n.default},data:function(){return{citylist:null,hotcity:null,addressData:null,searchText:"",isSearch:!1,searchCitylist:null,listAttr:{listBackgroundColor:"none",titleFontSize:24,titleColor:"#999999",titleHeight:40,titleBackground:"#F6F6F6",titlePadding:28,itemHeight:80,itemFontSize:24,itemBorderBottom:"1px solid rgba(0, 0, 0, 0.1)",itemColor:"#333333"},navAttr:{enable:!0,backgroundColor:"#fffff",color:"#333",activeColor:"#333333",fontSize:24,itemPadding:"6 0",borderRadius:100,padding:"20 0"},recenCity:null,iphoneModel:null}},methods:{chooseItem:function(t){},search:function(){var t=this;uni.showLoading({}),a.default._post_form("&do=cityList",{keyword:t.searchText},function(i){console.log(i.data.citylist),t.setData({searchCitylist:i.data.citylist,isSearch:!0})},!1,function(){uni.hideLoading()})},getCurrentcity:function(t,i){var e=this,n={lat:t,lng:i};a.default._post_form("&do=cityLocation",n,function(t){console.log(t.data),e.setData({addressData:t.data})})},getCityList:function(){var t=this;a.default._post_form("&do=cityList",{},function(i){var e=i.data.citylist,n=[],a={};for(var r in e)a={initial:r,list:e[r]},n.push(a);t.setData({citylist:n,hotcity:i.data.hotcity})},!1,function(){uni.hideLoading()})},closeSearch:function(){this.setData({searchText:"",isSearch:!1}),this.$refs.uniSelect.scrollTop=0}},onLoad:function(){},mounted:function(){var t=this;uni.showLoading({}),a.default.getLocation().then(function(i){t.getCurrentcity(i.latitude,i.longitude)}),uni.getSystemInfo({success:function(t){console.log(t);var i=t.model,e=-1!==i.indexOf("iPhone");this.iphoneModel=e}}),this.recenCity=uni.getStorageSync("locationArray")||[],this.getCityList()},watch:{searchText:function(t,i){}}};i.default=o},"0a82":function(t,i,e){"use strict";var n=e("b86c"),a=e.n(n);a.a},"0b36":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var n=a(e("5f2a"));function a(t){return t&&t.__esModule?t:{default:t}}var r={components:{},data:function(){return{navData:[],toView:"sort0",scrollTop:0,disArray:[0],activeIndex:0,fadeFlag:!1,Timer:null,cityListData:""}},props:{listData:{type:Array,default:[]},quickPanelData:{type:Array,default:function(){return[]}},currentCity:{type:Object,default:function(){return{}}},iphoneModel:{type:Boolean,default:!1},navAttr:{type:Object,default:function(){return{}}},isSearch:{type:Boolean,default:!1},searchCitylist:{type:Array,default:function(){return[]}},recenCity:{type:Array,default:function(){return[]}},listAttr:{type:Object,default:function(){return{listBackgroundColor:"transport",titleFontSize:28,titleColor:"#333",titleHeight:60,titleBackground:"#ccc",titlePadding:20,itemHeight:80,itemFontSize:28,itemBorderBottom:"1px solid rgba(0, 0, 0, 0.1)",itemColor:"#333",itemBackgroundColor:"",itemMargin:20}}}},computed:{getNavData:function(){var t=this;if(this.listData&&this.listData.length>0)return this.listData.forEach(function(i,e){t.navData.push(i.initial)}),this.navData},getListAttrListBackgroundColor:function(){return this.listAttr.listBackgroundColor||"transport"},getListAttrTitleColor:function(){return this.listAttr.titleColor||"#333"},getListAttrTitleFontSize:function(){return uni.upx2px(this.listAttr.titleFontSize||24)+"px"},getListAttrTitleHeight:function(){return uni.upx2px(this.listAttr.titleHeight||60)+"px"},getListAttrTitleBackground:function(){return this.listAttr.titleBackground||"#ccc"},getListAttrTitlePadding:function(){return uni.upx2px(this.listAttr.titlePadding||20)+"px"},getListAttrItemHeight:function(){return uni.upx2px(this.listAttr.itemHeight||80)+"px"},getListAttrItemFontSize:function(){return uni.upx2px(this.listAttr.itemFontSize||28)+"px"},getListAttrItemColor:function(){return this.listAttr.itemColor||"#333"},getListAttrItemBackgroundColor:function(){return this.listAttr.itemBackgroundColor||""},getListAttrItemBorderBottom:function(){return this.listAttr.itemBorderBottom||"1px solid rgba(0, 0, 0, 0.1)"},getListAttrItemMargin:function(){return"0"+uni.upx2px(this.listAttr.itemFontSize||20)+"px"},getNavAttrbackgroundColor:function(){return this.navAttr.backgroundColor||"rgba(0, 0, 0, 0.4)"},getNavAttrColor:function(){return this.navAttr.color||"#333"},getNavAttrActiveColor:function(){return this.navAttr.activeColor||"#333"},getNavAttrFontSize:function(){return uni.upx2px(this.navAttr.fontSize||28)+"px"},getNavAttrItemPadding:function(){if(this.navAttr.itemPadding){var t="",i=this.navAttr.itemPadding.split(" ");return i.forEach(function(i,e){t+=uni.upx2px(i)+"px "}),t}return uni.upx2px(4)+"px "+uni.upx2px(8)+"px"},getNavAttrBorderRadius:function(){return uni.upx2px(this.navAttr.borderRadius||100)+"px"},getNavAttrPadding:function(){if(this.navAttr.itemPadding){var t="",i=this.navAttr.padding.split(" ");return i.forEach(function(i,e){t+=uni.upx2px(i)+"px "}),t}return uni.upx2px(0)+"px "+uni.upx2px(20)+"px"}},methods:{scrollSelect:function(t){var i=this;clearTimeout(this.Timer);var e=this.recenCity?this.iphoneModel?220:175:this.iphoneModel?115:95;this.scrollTop=this.disArray[t]+e,this.activeIndex=t,this.fadeFlag=!0,this.Timer=setTimeout(function(){i.fadeFlag=!1},1e3)},scroll:function(t){for(var i=this.disArray.length,e=0;e<i;e++)this.disArray[e]<t.detail.scrollTop&&this.disArray[e+1]>t.detail.scrollTop&&(this.activeIndex=e)},getDisArray:function(t){var i=this,e=i.disArray[0];t&&t.length>0&&t.forEach(function(t,n){var a=i.disArray.length-1;e=i.disArray[a]+(parseInt(i.getListAttrTitleHeight)+parseInt(i.getListAttrItemHeight)*t.list.length),i.disArray.push(e)})},chooseItem:function(t){console.log(t),this.$emit("chooseItem",t),t.location&&(t.lat=t.location.lat,t.lng=t.location.lng,t.name=t.city||t.ad_info.city,t.isCurrentAddress="1"),uni.navigateTo({url:"/pages/mainPages/city/selectAddress?"+n.default.urlEncode(t)})}},mounted:function(){},onLoad:function(){},watch:{listData:function(t,i){this.getDisArray(t)}}};i.default=r},"0b6d":function(t,i,e){var n=e("859b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("51b4c04c",n,!0,{sourceMap:!1,shadowMode:!1})},3634:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.select-page[data-v-67a6fc0b]{width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;height:100%}.select-page .scroll-list-panel[data-v-67a6fc0b]{height:inherit}.select-page .scroll-list-panel .title[data-v-67a6fc0b]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box}.select-page .scroll-list-panel .list[data-v-67a6fc0b]{-webkit-box-sizing:border-box;box-sizing:border-box;margin:0 0 0 %?30?%}.select-page .scroll-list-panel .list uni-text[data-v-67a6fc0b]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box}.select-page .scroll-list-panel .list uni-text[data-v-67a6fc0b]:last-child{border:none!important}.select-page .now-sort[data-v-67a6fc0b]{position:absolute;top:0;left:0;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box}.select-page .now-letter[data-v-67a6fc0b]{font-size:%?160?%;position:absolute;top:50%;left:50%;-webkit-transform:translate3d(-50%,-50%,0);transform:translate3d(-50%,-50%,0);opacity:0}.select-page .now-letter.fadeIn[data-v-67a6fc0b]{-webkit-animation:fade-data-v-67a6fc0b 1s linear 0ms;animation:fade-data-v-67a6fc0b 1s linear 0ms}.select-page .letter-nav[data-v-67a6fc0b]{width:%?100?%;position:fixed;top:55%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);right:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;text-align:center;z-index:99999}.base-wrap-history[data-v-67a6fc0b]{overflow:hidden;padding:0 %?50?% 0 %?20?%}.base-wrap-history .title[data-v-67a6fc0b]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-sizing:border-box;box-sizing:border-box;font-size:%?28?%;color:#999;height:%?60?%}.base-wrap-history .panel[data-v-67a6fc0b]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.base-wrap-history .panel .current-item[data-v-67a6fc0b]{background-color:#ffd940!important}.base-wrap-history .panel .history-icon[data-v-67a6fc0b]{font-size:%?30?%;margin-right:%?10?%;color:#333}.base-wrap-history .panel .item[data-v-67a6fc0b]{display:inline-block;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;text-align:center;width:%?160?%;height:%?60?%;line-height:%?60?%;overflow:hidden;font-size:%?28?%;border-radius:%?60?%;padding:0 %?20?%;margin-top:%?20?%;color:#333;margin-right:%?8?%;background-color:#f6f6f6}.base-wrap-history .panel[data-v-67a6fc0b]:after{display:block;content:"";width:%?200?%;border:1px solid rgba(0,0,0,0)}@-webkit-keyframes fade-data-v-67a6fc0b{0%{opacity:0;display:block!important}50%{opacity:.4}to{display:none;opacity:0!important}}@keyframes fade-data-v-67a6fc0b{0%{opacity:0;display:block!important}50%{opacity:.4}to{display:none;opacity:0!important}}[data-v-67a6fc0b]::-webkit-scrollbar{width:0;height:0;background-color:rgba(0,0,0,0)}',""])},"3c1e6":function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"select-page"},[t.isSearch?t._e():[e("v-uni-scroll-view",{staticClass:"scroll-list-panel",attrs:{"scroll-y":"true","scroll-top":t.scrollTop,"scroll-with-animation":"true"},on:{scroll:function(i){i=t.$handleEvent(i),t.scroll(i)}}},[t.currentCity?e("v-uni-view",{staticClass:"base-wrap-history"},[e("v-uni-view",{staticClass:"title"},[t._v("当前城市")]),e("v-uni-view",{staticClass:"panel"},[e("v-uni-text",{staticClass:"item current-item",on:{click:function(i){i=t.$handleEvent(i),t.chooseItem(t.currentCity["ad_info"])}}},[e("v-uni-text",{staticClass:"history-icon iconfont icon-locationfill"},[t._v(t._s(t.currentCity["ad_info"]["city"]))])],1)],1)],1):t._e(),t.recenCity&&t.recenCity.length>0?e("v-uni-view",{staticClass:"base-wrap-history"},[e("v-uni-view",{staticClass:"title"},[t._v("最近访问的城市")]),e("v-uni-view",{staticClass:"panel"},t._l(t.recenCity,function(i,n){return n<3?e("v-uni-text",{key:n,staticClass:"item",on:{click:function(e){e=t.$handleEvent(e),t.chooseItem(i)}}},[t._v(t._s(i["ad_info"]["city"]))]):t._e()}),1)],1):t._e(),e("v-uni-view",{staticClass:"base-wrap-history m-btm40"},[e("v-uni-view",{staticClass:"title"},[t._v("热门城市")]),e("v-uni-view",{staticClass:"panel"},t._l(t.quickPanelData,function(i,n){return e("v-uni-text",{key:n,staticClass:"item",on:{click:function(e){e=t.$handleEvent(e),t.chooseItem(i)}}},[t._v(t._s(i["name"]))])}),1)],1),e("v-uni-view",{staticClass:"main-wrap"},t._l(t.listData,function(i,n){return e("v-uni-view",{key:n,staticClass:"sort-wrap",style:{backgroundColor:t.getListAttrListBackgroundColor},attrs:{id:"view"+n}},[e("v-uni-view",{staticClass:"title",style:{fontSize:t.getListAttrTitleFontSize,color:t.getListAttrTitleColor,height:t.getListAttrTitleHeight,background:t.getListAttrTitleBackground,paddingLeft:t.getListAttrTitlePadding}},[t._v(t._s(i["initial"]))]),e("v-uni-view",{staticClass:"list"},t._l(i.list,function(i,n){return e("v-uni-text",{key:n,style:{height:t.getListAttrItemHeight,fontSize:t.getListAttrItemFontSize,borderBottom:t.getListAttrItemBorderBottom,color:t.getListAttrItemColor,background:t.getListAttrItemBackgroundColor},on:{click:function(e){e=t.$handleEvent(e),t.chooseItem(i)}}},[t._v(t._s(i["name"]))])}),1)],1)}),1)],1),t.activeIndex?e("v-uni-view",{class:["now-letter",t.fadeFlag?"fadeIn":""]},[t._v(t._s(t.getNavData[t.activeIndex]))]):t._e(),t.navAttr.enable?e("v-uni-view",{staticClass:"letter-nav",style:{backgroundColor:t.getNavAttrbackgroundColor,padding:t.getNavAttrPadding,borderRadius:t.getNavAttrBorderRadius}},t._l(t.getNavData,function(i,n){return e("v-uni-text",{key:n,class:["item",n===t.activeIndex?"active":""],style:{fontSize:t.getNavAttrFontSize,color:n===t.activeIndex?t.getNavAttrActiveColor:t.getNavAttrColor,padding:t.getNavAttrItemPadding},on:{click:function(i){i=t.$handleEvent(i),t.scrollSelect(n)}}},[t._v(t._s(i))])}),1):t._e()],t.isSearch?[e("v-uni-view",{staticClass:"base-wrap-history"},[e("v-uni-view",{staticClass:"title"},[t._v("目前搜索的城市")]),e("v-uni-view",{staticClass:"panel"},t._l(t.searchCitylist,function(i,n){return e("v-uni-text",{key:n,staticClass:"item",on:{click:function(e){e=t.$handleEvent(e),t.chooseItem(i)}}},[t._v(t._s(i.name))])}),1)],1)]:t._e()],2)},a=[];e.d(i,"a",function(){return n}),e.d(i,"b",function(){return a})},"41e0":function(t,i,e){"use strict";var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"content"},[e("v-uni-view",{staticClass:"history-main dis-flex flex-y-center"},[e("v-uni-view",{staticClass:"history-input dis-flex flex-y-center p-left-right-30 p-r"},[e("v-uni-view",{staticClass:"history-icon iconfont icon-search"}),e("v-uni-input",{staticClass:"f-24",attrs:{type:"text",value:"",placeholder:"输入城市名或拼音查询"},model:{value:t.searchText,callback:function(i){t.searchText=i},expression:"searchText"}}),t.searchText?e("v-uni-view",{staticClass:"history-icon-close iconfont icon-roundclose",on:{click:function(i){i=t.$handleEvent(i),t.closeSearch(i)}}}):t._e()],1),e("v-uni-view",{staticClass:"history-btn col-3 f-30",on:{click:function(i){i=t.$handleEvent(i),t.search(i)}}},[t._v("搜索")])],1),e("uni-select",{ref:"uniSelect",attrs:{iphoneModel:t.iphoneModel,isSearch:t.isSearch,navAttr:t.navAttr,listAttr:t.listAttr,quickPanelData:t.hotcity,listData:t.citylist,currentCity:t.addressData,searchCitylist:t.searchCitylist,recenCity:t.recenCity},on:{chooseItem:function(i){i=t.$handleEvent(i),t.chooseItem(i)}}})],1)},a=[];e.d(i,"a",function(){return n}),e.d(i,"b",function(){return a})},4385:function(t,i,e){"use strict";e.r(i);var n=e("0b36"),a=e.n(n);for(var r in n)"default"!==r&&function(t){e.d(i,t,function(){return n[t]})}(r);i["default"]=a.a},"48c1":function(t,i,e){"use strict";e.r(i);var n=e("3c1e6"),a=e("4385");for(var r in a)"default"!==r&&function(t){e.d(i,t,function(){return a[t]})}(r);e("0a82");var o=e("2877"),s=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"67a6fc0b",null);i["default"]=s.exports},"719c":function(t,i,e){"use strict";e.r(i);var n=e("0118"),a=e.n(n);for(var r in n)"default"!==r&&function(t){e.d(i,t,function(){return n[t]})}(r);i["default"]=a.a},"859b":function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.content[data-v-7b2d39cd]{height:100vh}.content .history-main[data-v-7b2d39cd]{height:%?120?%;padding:0 %?30?% 0 %?18?%}.content .history-main .history-input[data-v-7b2d39cd]{-webkit-box-flex:1;-webkit-flex:1;-ms-flex:1;flex:1;background:#f6f6f6;border-radius:%?38?%;margin-right:%?30?%;height:%?80?%}.content .history-main .history-input .history-icon[data-v-7b2d39cd]{font-size:%?30?%;margin-right:%?20?%;color:#959595}.content .history-main .history-input .history-icon-close[data-v-7b2d39cd]{position:absolute;right:%?40?%;top:47%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);font-size:%?32?%;color:#959595}',""])},"986e":function(t,i,e){"use strict";var n=e("0b6d"),a=e.n(n);a.a},b86c:function(t,i,e){var n=e("3634");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=e("4f06").default;a("cfa41434",n,!0,{sourceMap:!1,shadowMode:!1})},bcf7:function(t,i,e){"use strict";e.r(i);var n=e("41e0"),a=e("719c");for(var r in a)"default"!==r&&function(t){e.d(i,t,function(){return a[t]})}(r);e("986e");var o=e("2877"),s=Object(o["a"])(a["default"],n["a"],n["b"],!1,null,"7b2d39cd",null);i["default"]=s.exports}}]);