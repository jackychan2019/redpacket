{if $community['qrcode']}
<div>
	<div class="community">
		<div class="community-l" style="background-image:url({$community['img']});"></div>
		<div class="community-c">
			<h1>{$community['name']}</h1>
			<p>{$community['desc']}</p>
		</div>
		<div class="community-r"><a href="javascript:;">添加</a></div>
	</div>
	<div class="community-mask"></div>
	<div class="community-pop-ani">
		<div class="community-close"></div>
		<div class="community-pop">
			<div class="community-pop-t1">
				<div class="community-pop-t1-l" style="background-image:url({$community['img']});"></div>
				<div class="community-pop-t1-r">{$community['name']}</div>
			</div>
			<div class="community-pop-t2">
				<img src="{$community['qrcode']}">
			</div>
			<div class="community-pop-t3">
				{if is_wxapp()}
				识别二维码加群
				{else}
				长按识别二维码
				{/if}
			</div>
			<div class="community-pop-t4">
				我知道了
			</div>
		</div>
	</div>
</div>
{/if}
<script>
$(function() {
	$('.community-r a').click(function(){
		$('.community-mask, .community-pop-ani').show();
		$('.community-pop-ani').addClass("communityani");
	});
	$('.community-close, .community-pop-t4').click(function(){
		$('.community-mask, .community-pop-ani').hide();
		$('.community-pop-ani').removeClass("communityani");
	});
});
</script>

<style>
.community {
	padding: .75rem;
	background-color: #fff;
	display: -webkit-flex;
	display: flex;
	justify-content: space-between;
	margin-top: .5rem;
	margin-bottom: .5rem;
}
.community-l {
	width: 2.1rem;
	height: 2.1rem;
	background-position: center;
	background-size: cover;
	-webkit-border-radius: 5px;
	border-radius: 5px;
}
.community-c {
	padding: 0 .5rem;
	-webkit-flex: 1;
	flex: 1;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
.community-c h1 {
	color: #333;
	height: 1.05rem;
	line-height: 1.05rem;
	font-size: .75rem;
	font-weight: normal;
	margin: 0;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
.community-c p {
	height: 1.05rem;
	line-height: 1.05rem;
	color: #999;
	font-size: .65rem;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
.community-r {
	display: -webkit-flex;
	display: flex;
	align-items: center;
}
.community-r a {
	color: #fff;
	font-size: .7rem;
	padding: .15rem .8rem;
	background-color: #FE433F;
	display: inline-block;
	-webkit-border-radius: 3px;
	border-radius: 3px;
}
.community-mask {
	width: 100%;
	height: 100%;
	position: fixed;
	left: 0;
	top: 0;
	z-index: 9999;
	background-color: rgba(0,0,0,.5);
	display: none;
}
.community-close {
	width: 100%;
	height: 100%;
	position: fixed;
	left: 0;
	top: 0;
	z-index: 10000;
}
.community-pop-ani {
	width: 100%;
	height: 100%;
	position: fixed;
	left: 0;
	top: 0;
	z-index: 10000;
	display: none;
}
@keyframes communityani{
	from {
		-webkit-transform: scale(0);
		transform: scale(0);
	}
	to { 
		-webkit-transform: scale(1);
		transform: scale(1);
	}
}
.communityani {
	animation: communityani .3s;
}
.communityanirev {
	animation: communityani .3s reverse;
}
.community-pop {
	width: 13rem;
	-webkit-transform: translate(-50%, -50%);
	transform: translate(-50%, -50%);
	position: fixed;
	left: 50%;
	top: 50%;
	z-index: 10001;
	background-color: #fff;
	-webkit-border-radius: 6px;
	border-radius: 6px;
	overflow: hidden;
}
.community-pop-t1 {
	padding: .75rem 1rem;
}
.community-pop-t1-l {
	width: 2.1rem;
	height: 2.1rem;
	background-position: center;
	background-size: cover;
	-webkit-border-radius: 5px;
	border-radius: 5px;
	position: absolute;
}
.community-pop-t1-r {
	height: 2.1rem;
	line-height: 2.1rem;
	color: #333;
	font-size: .7rem;
	font-weight: 600;
	padding-left: 2.6rem;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
.community-pop-t2 {
	margin: 0 .75rem;
	border: 1px solid #d9d9d9;
}
.community-pop-t2 img {
	width: 100%;
	display: block;
}
.community-pop-t3 {
	color: #666;
	font-size: .7rem;
	text-align: center;
	margin: .25rem .75rem;
	overflow: hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
}
.community-pop-t4 {
	color: #666;
	font-size: .7rem;
	text-align: center;
	margin-top: .75rem;
	padding: .5rem .75rem;
	border-top: 1px solid #eee;
}
.community-pop-t4:active {
	background-color: #f3f3f3;
}
</style>